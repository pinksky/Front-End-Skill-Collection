# 腾讯面试准备

### XMLHttpRequest
- 概况
    + 所有现代浏览器均支持 XMLHttpRequest 对象（IE5 和 IE6 使用 ActiveXObject）
    + XMLHttpRequest 用于在后台与服务器交换数据。这意味着可以在不重新加载整个网页的情况下，对网页的某部分进行更新。
    + 所有现代浏览器（IE7+、Firefox、Chrome、Safari 以及 Opera）均内建 XMLHttpRequest 对象。
- 语法
    + variable=new XMLHttpRequest();
    + 老版本的 Internet Explorer （IE5 和 IE6）使用 ActiveX 对象：variable=new ActiveXObject("Microsoft.XMLHTTP");
- 向服务器发送请求
    + 如需将请求发送到服务器，我们使用 XMLHttpRequest 对象的 open() 和 send() 方法: xmlhttp.open("GET","test1.txt",true); xmlhttp.send();
    + ii.   如果需要像 HTML 表单那样 POST 数据，请使用 setRequestHeader() 来添加 HTTP 头。然后在 send() 方法中规定您希望发送的数据：
        * xmlhttp.open("POST","ajax_test.asp",true);
        * xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");
        * xmlhttp.send("fname=Bill&lname=Gates");
- 服务器响应
    + 如需获得来自服务器的响应，请使用 XMLHttpRequest 对象的 responseText 或 responseXML 属
    + responseText：获得字符串形式的响应数据。
    + iii.  responseXML:获得 XML 形式的响应数据。
- onreadystatechange 事件
    + 当请求被发送到服务器时，我们需要执行一些基于响应的任务。每当 readyState 改变时，就会触发 onreadystatechange 事件。readyState 属性存有 XMLHttpRequest 的状态信息。
    + 在 onreadystatechange事件中，我们规定当服务器响应已做好被处理的准备时所执行的任务。当 readyState 等于 4 且状态为 200 时，表示响应已就绪：
- 下面是 XMLHttpRequest 对象的三个重要的属性：
    + onreadystatechange: 存储函数（或函数名），每当 readyState 属性改变时，就会调用该函数。
    + readyState: 存有 XMLHttpRequest 的状态。从 0 到 4 发生变化。
        * 0: 请求未初始化
        * 1: 服务器连接已建立
        * 2: 请求已接收
        * 3: 请求处理中
        * 4: 请求已完成，且响应已就绪
    + status
        * 200: "OK"
        * 404: 未找到页面